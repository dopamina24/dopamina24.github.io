<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElectroChile - Electrolineras en Chile</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h1 class="logo">&#9889; ElectroChile</h1>
            <button id="sidebar-close" class="sidebar-close" aria-label="Cerrar panel">&times;</button>
        </div>

        <div class="sidebar-content">
            <!-- Search -->
            <div class="search-section">
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="Buscar direcci&oacute;n, ciudad o comuna..." autocomplete="off">
                    <button id="search-btn" class="btn btn-search" aria-label="Buscar">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                    </button>
                </div>
                <button id="locate-btn" class="btn btn-locate">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 2v4M12 18v4M2 12h4M18 12h4"/></svg>
                    Usar mi ubicaci&oacute;n
                </button>
            </div>

            <!-- Filters -->
            <div class="filters-section">
                <h3 class="section-title">Filtros</h3>

                <div class="filter-group">
                    <label class="filter-label">Radio de b&uacute;squeda</label>
                    <div class="range-container">
                        <input type="range" id="radius-range" min="5" max="200" value="25" step="5">
                        <span id="radius-value">25 km</span>
                    </div>
                </div>

                <div class="filter-group">
                    <label class="filter-label">Tipo de conector</label>
                    <div class="connector-filters" id="connector-filters">
                        <label class="checkbox-label">
                            <input type="checkbox" value="all" checked> Todos
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="CCS 2"> CCS 2
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="Tipo 2"> Tipo 2 (Mennekes)
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="CHAdeMO"> CHAdeMO
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="Tipo 1"> Tipo 1 (J1772)
                        </label>
                    </div>
                </div>

                <div class="filter-group">
                    <label class="filter-label">Tipo de corriente</label>
                    <div class="power-type-filters" id="power-type-filters">
                        <label class="checkbox-label">
                            <input type="checkbox" value="all" checked> Todos
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="DC"> DC (Carga r&aacute;pida)
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="AC"> AC (Carga lenta)
                        </label>
                    </div>
                </div>

                <div class="filter-group">
                    <label class="filter-label">Estado</label>
                    <select id="status-filter" class="select-filter">
                        <option value="all">Todas</option>
                        <option value="available">Solo disponibles</option>
                    </select>
                </div>
            </div>

            <!-- Results -->
            <div class="results-section">
                <div class="results-header">
                    <h3 class="section-title">Estaciones</h3>
                    <span id="results-count" class="results-count">0 encontradas</span>
                </div>
                <div id="results-list" class="results-list">
                    <div class="empty-state">
                        <p>Cargando estaciones desde EcoCarga...</p>
                    </div>
                </div>
            </div>

            <!-- Data source info -->
            <div class="data-source">
                <span id="data-info">Conectando...</span>
            </div>
        </div>
    </aside>

    <!-- Mobile toggle -->
    <button id="sidebar-toggle" class="sidebar-toggle" aria-label="Abrir panel">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </button>

    <!-- Map -->
    <div id="map"></div>

    <!-- Loading overlay -->
    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
        <p id="loading-text">Buscando electrolineras...</p>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    <script src="app.js"></script>
</body>
</html>
